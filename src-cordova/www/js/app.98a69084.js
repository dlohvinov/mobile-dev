(function(e){function t(t){for(var r,i,s=t[0],u=t[1],l=t[2],p=0,d=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);c&&c(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var u=n[s];0!==a[u]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var c=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1cfc":function(e,t,n){"use strict";var r=n("4c92"),a=n.n(r);a.a},"4c92":function(e,t,n){},"4cea":function(e,t,n){"use strict";var r=n("b818"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("v-app",[n("router-view")],1)],1)},o=[],i=(n("7f7f"),n("96cf"),n("3b8d")),s=n("8aa5"),u=n.n(s),l=n("8c4f"),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("section",{staticClass:"content"},[r("h1",[e._v(e._s(this.username)+", Welcome to Vue")]),r("img",{attrs:{alt:"Vue logo",src:n("cf05")}}),r("v-btn",{attrs:{loading:e.loading},on:{click:e.submit}},[e._v("Sign out")])],1)])},p=[],d=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),f=n("2f62");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach((function(t){Object(d["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={name:"the-home",data:function(){return{loading:!1}},computed:h({},Object(f["b"])(["username"])),methods:{submit:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.prev=1,e.next=4,u.a.auth().signOut();case 4:this.$router.push("/login"),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](1),this.loading=!1,console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(){return e.apply(this,arguments)}return t}()}},b=v,g=n("2877"),w=Object(g["a"])(b,c,p,!1,null,"3de21478",null),x=w.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("header",{staticClass:"app-title text-center"},[n("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.alert,expression:"alert"}],staticClass:"alert",attrs:{type:"error"}},[e._v("\n            Credentials are wrong!\n        ")]),n("h3",[e._v("Log in")]),n("v-divider")],1),n("section",{staticClass:"auth"},[n("v-form",{staticClass:"auth-form",on:{submit:e.submit},model:{value:e.validation,callback:function(t){e.validation=t},expression:"validation"}},[n("v-subheader",{staticClass:"subtitle-1"},[e._v("Enter your credentials below:")]),n("v-text-field",{staticClass:"login-form__input",attrs:{rules:e.emailValidation,label:"email",placeholder:"email",solo:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),n("v-text-field",{staticClass:"login-form__input",attrs:{rules:e.passwordValidation,label:"password",placeholder:"password",type:"password",counter:8,solo:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),n("div",{staticClass:"auth-link text-right"},[n("router-link",{attrs:{to:"/register"}},[e._v("Don't have an account?")])],1),n("v-btn",{attrs:{disabled:!e.validation,loading:e.loading},on:{click:e.submit}},[e._v("\n                Login\n            ")])],1)],1)])},O=[],_={mounted:function(){document.addEventListener("deviceready",this.backClose,!1)},destroyed:function(){document.removeEventListener("deviceready",this.backClose,!1)},methods:{backClose:function(){document.addEventListener("backbutton",(function(e){e.preventDefault(),navigator.app.exitApp()}),!1)}}},k={name:"the-login",mixins:[_],data:function(){return{form:{email:null,password:null},validation:!1,emailValidation:[function(e){return!!e||"E-mail is required"},function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"E-mail must be valid"}],passwordValidation:[function(e){return!!e||"Password is required"},function(e){return e.length>=8||"Password is too short"}],loading:!1,alert:!1}},methods:{submit:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,z(this.form);case 3:t=e.sent,this.loading=!1,this.alert=!0,t&&setTimeout((function(){n.alert=!1}),3e3);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},j=k,C=(n("4cea"),Object(g["a"])(j,y,O,!1,null,"3ecb636f",null)),P=C.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("header",{staticClass:"app-title text-center"},[n("h3",[e._v("Register")]),n("v-divider")],1),n("section",{staticClass:"auth"},[n("v-form",{staticClass:"auth-form",on:{submit:e.submit},model:{value:e.validation,callback:function(t){e.validation=t},expression:"validation"}},[n("v-subheader",{staticClass:"subtitle-1"},[e._v("Enter your credentials beloww:")]),n("v-text-field",{staticClass:"login-form__input",attrs:{rules:e.emailValidation,label:"email",placeholder:"email",solo:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),n("v-text-field",{staticClass:"login-form__input",attrs:{rules:e.required,label:"name",placeholder:"name",solo:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),n("v-text-field",{staticClass:"login-form__input",attrs:{rules:e.phoneValidation,label:"phone",placeholder:"phone",solo:""},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}}),n("v-text-field",{staticClass:"login-form__input",attrs:{rules:e.passwordValidation,label:"password",placeholder:"password",type:"password",counter:8,solo:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),n("div",{staticClass:"auth-link text-right"},[n("router-link",{attrs:{to:"/login"}},[e._v("Already have an account?")])],1),n("v-btn",{attrs:{disabled:!e.validation,loading:e.loading},on:{click:e.submit}},[e._v("\n                Register\n            ")])],1)],1)])},R=[],A={name:"the-register",mixins:[_],data:function(){return{form:{email:null,password:null},validation:!1,emailValidation:[function(e){return!!e||"E-mail is required"},function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"E-mail must be valid"}],phoneValidation:[function(e){return!!e||"Phone is required"}],passwordValidation:[function(e){return!!e||"Password is required"},function(e){return e.length>=8||"Password is too short"}],required:[function(e){return!!e||"Field is required"}],loading:!1}},methods:{submit:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,I(this.form);case 3:this.loading=!1;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},$=A,S=Object(g["a"])($,E,R,!1,null,"09037ce5",null),V=S.exports;r["default"].use(l["a"]);var U=new l["a"]({mode:"hash",base:"",routes:[{path:"/login",name:"login",component:P},{path:"/register",name:"register",component:V},{path:"/",name:"home",component:x,meta:{requiresAuth:!0}}]});U.beforeEach((function(e,t,n){var r=u.a.auth().currentUser,a=e.matched.some((function(e){return e.meta.requiresAuth}));!r&&a?n("/login"):n()}));var q=U;r["default"].use(f["a"]);var F=new f["a"].Store({state:{username:"io"},actions:{setUsername:function(e,t){e.commit("setUsername",t)}},mutations:{setUsername:function(e,t){e.username=t}}});function D(){return L.apply(this,arguments)}function L(){return L=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("getSession started"),e.next=3,u.a.auth().currentUser;case 3:t=e.sent,t||"/login"===this.$route.path||q.push("/login");case 5:case"end":return e.stop()}}),e,this)}))),L.apply(this,arguments)}function z(e){return N.apply(this,arguments)}function N(){return N=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,console.log("login started"),e.prev=2,e.next=5,u.a.auth().signInWithEmailAndPassword(n,r);case 5:return e.next=7,u.a.auth().currentUser;case 7:return a=e.sent,console.log(a),e.next=11,F.dispatch("setUsername",a.displayName);case 11:q.push("/"),e.next=17;break;case 14:return e.prev=14,e.t0=e["catch"](2),e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])}))),N.apply(this,arguments)}function I(e){return M.apply(this,arguments)}function M(){return M=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("register started"),e.prev=1,e.next=4,u.a.auth().createUserWithEmailAndPassword(t.email,t.password);case 4:return n=e.sent,console.log(n),e.next=8,u.a.auth().currentUser;case 8:return r=e.sent,console.log(r),e.next=12,r.updateProfile({displayName:t.name,phoneNumber:t.phone});case 12:return e.sent,e.next=15,u.a.auth().onAuthStateChanged(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("user",t),e.next=3,F.dispatch("setUsername",t.displayName);case 3:q.push("/");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:e.sent,e.next=22;break;case 18:return e.prev=18,e.t0=e["catch"](1),console.log(e.t0),e.abrupt("return",e.t0);case 22:case"end":return e.stop()}}),e,null,[[1,18]])}))),M.apply(this,arguments)}var Z={name:"app",components:{theLogin:V},mounted:function(){D()}},T=Z,B=(n("1cfc"),Object(g["a"])(T,a,o,!1,null,null,null)),W=B.exports,J={apiKey:"AIzaSyCihZARE9G06XeftARD4c9ewv6kBMNEgC8",authDomain:"mobile-dev-d6b61.firebaseapp.com",databaseURL:"https://mobile-dev-d6b61.firebaseio.com",projectId:"mobile-dev-d6b61",storageBucket:"",messagingSenderId:"252093777943",appId:"1:252093777943:web:75d73858dab99b27da7452"};u.a.initializeApp(J);var G=n("ce5b"),K=n.n(G);n("bf40");r["default"].use(K.a);var X=new K.a({theme:{themes:{light:{primary:"#6a4e07",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}},icons:{iconfont:"mdi"}});n("d5e8"),n("5363");r["default"].config.productionTip=!1,new r["default"]({router:q,vuetify:X,store:F,render:function(e){return e(W)}}).$mount("#app")},b818:function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.98a69084.js.map